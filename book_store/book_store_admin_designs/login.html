<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>图书管理系统 - 登录</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="auth-container">
        <div class="auth-card">
            <div class="auth-header">
                <h2>图书管理系统</h2>
            </div>
            
            <div class="auth-tabs">
                <div class="auth-tab active" data-target="login-tab">登录</div>
                <div class="auth-tab" data-target="register-tab">注册</div>
            </div>
            
            <div class="tab-content" id="login-tab" style="display: block;">
                <div class="auth-body">
                    <form id="login-form" onsubmit="login(event)">
                        <div class="form-group">
                            <label for="login-username">用户名</label>
                            <input type="text" id="login-username" class="form-control" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="login-password">密码</label>
                            <input type="password" id="login-password" class="form-control" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="login-store">选择店铺</label>
                            <select id="login-store" class="form-control">
                                <option value="">-- 请选择店铺 --</option>
                                <option value="main">总店</option>
                                <option value="branch1">分店1</option>
                                <option value="branch2">分店2</option>
                            </select>
                            <small>* 超级管理员无需选择店铺</small>
                        </div>
                        
                        <div class="form-group">
                            <button type="submit" class="btn btn-primary btn-block">登录</button>
                        </div>
                    </form>
                </div>
                
                <div class="auth-footer">
                    <a href="#" id="forgot-password">忘记密码？</a>
                </div>
            </div>
            
            <div class="tab-content" id="register-tab" style="display: none;">
                <div class="auth-body">
                    <form id="register-form" onsubmit="register(event)">
                        <div class="form-group">
                            <label for="register-username">用户名</label>
                            <input type="text" id="register-username" class="form-control" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="register-email">电子邮箱</label>
                            <input type="email" id="register-email" class="form-control" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="register-password">密码</label>
                            <input type="password" id="register-password" class="form-control" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="register-confirm-password">确认密码</label>
                            <input type="password" id="register-confirm-password" class="form-control" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="register-role">角色</label>
                            <select id="register-role" class="form-control" required>
                                <option value="">-- 请选择角色 --</option>
                                <option value="store_admin">店铺管理员</option>
                                <option value="employee">普通员工</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="register-store">所属店铺</label>
                            <select id="register-store" class="form-control" required>
                                <option value="">-- 请选择店铺 --</option>
                                <option value="main">总店</option>
                                <option value="branch1">分店1</option>
                                <option value="branch2">分店2</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <button type="submit" class="btn btn-primary btn-block">注册</button>
                        </div>
                    </form>
                </div>
                
                <div class="auth-footer">
                    <p>已有账号？<a href="#" onclick="document.querySelector('[data-target=\'login-tab\']').click()">立即登录</a></p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 忘记密码模态框 -->
    <div class="modal-backdrop" id="forgot-password-modal" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3>找回密码</h3>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="forgot-password-form">
                    <div class="form-group">
                        <label for="forgot-email">电子邮箱</label>
                        <input type="email" id="forgot-email" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary btn-block">发送重置链接</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <script src="js/main.js"></script>
    <script>
        // 忘记密码链接点击事件
        document.getElementById('forgot-password').addEventListener('click', function(e) {
            e.preventDefault();
            document.getElementById('forgot-password-modal').style.display = 'flex';
        });
        
        // 忘记密码表单提交事件
        document.getElementById('forgot-password-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const email = document.getElementById('forgot-email').value;
            
            if (email) {
                alert('密码重置链接已发送到您的邮箱，请查收');
                document.getElementById('forgot-password-modal').style.display = 'none';
            } else {
                alert('请输入电子邮箱');
            }
        });
    </script>
</body>
</html> 